{% extends 'base.html' %}
    {% block titleBlock %}

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="css/style.css" rel="stylesheet">
    <script  src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js">  </script>
    <title>Statistics</title>
     <link href="//netdna.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/3fb32c2b41.js" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.js"></script>
    {% endblock %}


        {% block bodyBlock %}

             <div class="container my-4">


                <hr class="my-4">

                <div>
                <canvas id="pieChart" style="max-width: 1000px;"></canvas>
                </div>

            </div>



            <script>
                var l=[];
                var lab=[];
                {% for hh in hostels %}
                l.push(({{hh.no_of_votes}}/{{hh.total_residents}})*100);
                lab.push('{{hh.name}}');
             
                {% endfor %}
               
                var ctxP = document.getElementById("pieChart").getContext('2d');
                var myPieChart = new Chart(ctxP, {
                type: 'pie',
                data: {
                    labels: lab,
                    datasets: [{
                    data: l,
                    backgroundColor: ["#ff009d","#d633c0","#78009c","#8e44ad","#6447ff","#492de3","#57b3ff","#78e8ff","#00ffa2","#32d959","#ddff45","#f6fa1e","#f07e26","#f53f07"],
                    hoverBackgroundColor: ["#f53bad","#d642c2","#9b22bf","#a458c4","#6f55fa","#583ee6","#63b9ff","#8cebff","#31f7af","#45d968","#e0ff57","#f6fa3e","#e68a43","#f75e2f"]
                    }]
                },
                options: {
                    responsive: true
                }
                });
            </script>
        {% endblock %}